Stage 1 generates signal and background

Stage 2 makes a fit for the signal and background 

Code:

https://root.cern.ch/root/html/tutorials/roofit/rf502_wspacewrite.C.html
https://root.cern.ch/root/html/tutorials/roofit/rf503_wspaceread.C.html